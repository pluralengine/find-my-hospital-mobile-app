(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{339:function(e,t,n){e.exports=n.p+"static/media/faceMask.a93b64c1.png"},340:function(e,t,n){e.exports=n.p+"static/media/handSanitizer.0004c66a.png"},341:function(e,t,n){e.exports=n.p+"static/media/gloves.4a737be8.png"},349:function(e,t,n){"use strict";var r=n(6),o=n.n(r),a=n(22),i=n.n(a),c=(n(45),n(0)),s=n.n(c),l=n(142),u=n(110),d=n(314),p=n(9),f=n.n(p),m=n(4),h=n(3),g=n(56),y=n(47),b=n(343),v=n(84),C=n(70),w=n(190),O=n(8),S=n.n(O),E=n(10),j=n.n(E),x=n(11),P=n.n(x),I=n(12),R=n.n(I),k=n(2),T=n.n(k),B=n(23),D=n.n(B),A=n(83),M=n(29),F=n.n(M);function z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var H=function(e){P()(r,e);var t,n=(t=r,function(){var e,n=T()(t);if(z()){var r=T()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return R()(this,e)});function r(){return S()(this,r),n.apply(this,arguments)}return j()(r,[{key:"render",value:function(){var e=this.props,t=e.description,n=e.title,r=e.coordinate,o=F()(e,["description","title","coordinate"]);return s.a.createElement(A.Marker,D()({},o,{title:t?n+"\n"+t:n,position:{lat:r.latitude,lng:r.longitude}}))}}]),r}(c.Component);function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V=function(e){P()(r,e);var t,n=(t=r,function(){var e,n=T()(t);if(L()){var r=T()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return R()(this,e)});function r(){return S()(this,r),n.apply(this,arguments)}return j()(r,[{key:"render",value:function(){return s.a.createElement(A.Polyline,this.props)}}]),r}(c.Component);function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U=function(e){P()(r,e);var t,n=(t=r,function(){var e,n=T()(t);if(N()){var r=T()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return R()(this,e)});function r(){return S()(this,r),n.apply(this,arguments)}return j()(r,[{key:"render",value:function(){var e=this.props,t=e.onPress,n=F()(e,["onPress"]);return s.a.createElement(g.a,{onPress:t},s.a.createElement(A.InfoWindow,D()({onCloseClick:this.props.hideCallout},n),this.props.children))}}]),r}(c.Component);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Y=Object(A.withGoogleMap)((function(e){return s.a.createElement(A.GoogleMap,D()({},e,{ref:e.handleMapMounted}))})),_=function(e){P()(r,e);var t,n=(t=r,function(){var e,n=T()(t);if(J()){var r=T()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return R()(this,e)});function r(){var e;S()(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={center:null},e.handleMapMounted=function(t){e.map=t,e.props.onMapReady&&e.props.onMapReady()},e.onDragEnd=function(){var t=e.props.onRegionChangeComplete;if(e.map&&t){var n=e.map.getCenter();t({latitude:n.lat(),longitude:n.lng()})}},e}return j()(r,[{key:"animateToRegion",value:function(e){this.setState({center:{lat:e.latitude,lng:e.longitude}})}},{key:"render",value:function(){var e=this.props,t=e.region,n=e.initialRegion,r=e.onRegionChange,o=e.onPress,a=e.options,i=this.state.center,c=this.props.style||K.container,l=t?{center:{lat:t.latitude,lng:t.longitude}}:i?{center:i}:{defaultCenter:{lat:n&&n.latitude,lng:n&&n.longitude}};return s.a.createElement(h.a,{style:c},s.a.createElement(Y,D()({handleMapMounted:this.handleMapMounted,containerElement:s.a.createElement("div",{style:{height:"100%"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}})},l,{onDragStart:r,onIdle:this.onDragEnd,defaultZoom:15,onClick:o,options:G({fullscreenControl:!1,mapTypeControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM}},a)}),this.props.children))}}]),r}(c.Component);_.Marker=H,_.Polyline=V,_.Callout=U;var K=m.a.create({container:{height:"100%"}}),q=_,Z=n(334);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){var t=e.containerStyle,n=e.items,r=e.onItemSelect,o=e.textInputProps,a=n.map((function(e){return{label:e.name,value:e.value}}));return s.a.createElement(h.a,{style:[t,{overflow:"visible"}]},s.a.createElement(Z.Select,{isClearable:!1,optionHeight:36,theme:function(e){return X({},e,{borderRadius:5,colors:X({},e.colors,{primary25:"#4C9AFF",primary:"#4C9AFF"}),spacing:X({},e.spacing,{controlHeight:32,menuGlutter:0})})},styles:{container:function(e,t){return X({},e,{fontSize:12,border:"none",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", sans-serif'})},control:function(e,t){return X({},e,{border:"none",minHeight:"36px"})},option:function(e,t){return X({},e)}},isSearchable:!0,autoFocus:!0,name:"city",placeholder:o&&o.placeholder,options:a,onChange:function(e){var t=e.label,n=e.value;return r({name:t,value:n})}}))}var ee=n(601),te="https://covid-19-hospital-finder.herokuapp.com",ne={HOSPITALS:te+"/hospitals",USERS:te+"/users",LOGIN:te+"/login",VOTE:te+"/score",PRODUCTS:te+"/products",PROVINCES:te+"/provinces/areas",USER_PHARMACY:te+"/user/pharmacy",PHARMACY_STOCK:te+"/user/pharmacy/stock",PHARMACIES:te+"/pharmacies"};function re(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(ne.PRODUCTS,{method:"GET",headers:ie()}).then(ce));case 1:case"end":return e.stop()}}),null,null,null,Promise)}function oe(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(ne.PROVINCES,{method:"GET",headers:ie()}).then(ce));case 1:case"end":return e.stop()}}),null,null,null,Promise)}function ae(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=ee.stringify(e),n.abrupt("return",fetch(ne.PHARMACIES+"?"+t,{method:"GET",headers:ie()}).then(ce));case 2:case"end":return n.stop()}}),null,null,null,Promise)}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{"Content-Type":"application/json",Authorization:e?"Bearer "+e:void 0}}function ce(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(e.json());case 2:if(!(t=n.sent).error){n.next=5;break}throw Error(t.error);case 5:return n.abrupt("return",t);case 6:case"end":return n.stop()}}),null,null,null,Promise)}var se=Object(c.createContext)({user:{email:"",name:"",hospitalId:0},setUser:function(e){return e},logout:function(){return null}});var le=function(){return Object(c.useContext)(se)},ue=n(62),de=["#cc3232","#db7b2b","#e7b416","#99c140","#2dc937"],pe=n(339),fe=n.n(pe),me=n(340),he=n.n(me),ge=n(341),ye=n.n(ge),be={mask:fe.a,handSanitizer:he.a,gloves:ye.a};function ve(e){var t=e.style,n=le().user,r=Object(c.useState)(null),o=i()(r,2),a=o[0],l=o[1],u=Object(c.useState)([]),d=i()(u,2),p=d[0],m=d[1];function b(e){var t=a.products.some((function(t){return t.id===e.id}));(function(e,t,n){var r,o;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r={productId:t,stock:n},o={method:"PUT",headers:ie(e),body:JSON.stringify(r)},a.abrupt("return",fetch(ne.PHARMACY_STOCK,o).then(ce));case 3:case"end":return a.stop()}}),null,null,null,Promise)})(n.token,e.id,!t).then(l).catch((function(e){return ue.a.alert("Error actualizando el stock",String(e))}))}return Object(c.useEffect)((function(){var e;(e=n.token,f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch(ne.USER_PHARMACY,{method:"GET",headers:ie(e)}).then(ce));case 1:case"end":return t.stop()}}),null,null,null,Promise)).then((function(e){l(e)})),re().then(m)}),[]),s.a.createElement(h.a,{style:[Ce.container,t]},s.a.createElement(h.a,{style:Ce.itemsContainer},a&&p.map((function(e,t){var n=a.products.some((function(t){return t.id===e.id}));return s.a.createElement(g.a,{key:e.id,onPress:function(){return b(e)},style:[Ce.productButton,{backgroundColor:n?de[4]:de[0]}]},be[e.photo]?s.a.createElement(v.a,{style:Ce.productButtonImg,source:be[e.photo],accessibilityLabel:e.name}):s.a.createElement(y.a,{style:Ce.productButtonText},e.name))}))),a&&s.a.createElement(h.a,{style:Ce.stats},s.a.createElement(y.a,{style:Ce.lastUpdate},"Actualizaste el inventario "+function(e){switch(typeof e){case"number":break;case"string":e=+new Date(e);break;case"object":e.constructor===Date&&(e=e.getTime());break;default:e=+new Date}var t=[[60,"segundos",1],[120,"minuto",60],[3600,"minutos",60],[7200,"hora",3600],[86400,"horas",3600],[172800,"ayer","hoy"],[604800,"dias",86400],[1209600,"\xfaltima semana","pr\xf3xima semana"],[2419200,"semanas",604800],[4838400,"\xfaltimo mes","pr\xf3ximo mes"],[29030400,"meses",2419200],[58060800,"\xfaltimo a\xf1o","pr\xf3ximo year"],[290304e4,"a\xf1os",29030400],[580608e4,"\xfaltimo centenario","pr\xf3ximo centenario"],[580608e5,"centenarios",290304e4]],n=(+new Date-e)/1e3,r="hace ",o=1;if(n<1)return"justo ahora";n<0&&(n=Math.abs(n),r="siguientes",o=2);for(var a,i=0;a=t[i++];)if(n<a[0])return"string"==typeof a[2]?a[o]:r+Math.floor(n/a[2])+" "+a[1]+" ";return e}(new Date(a.updatedAt)))))}var Ce=m.a.create({container:{backgroundColor:"white"},itemsContainer:{display:"flex",flexDirection:"row",height:"50%",justifyContent:"space-between",padding:16,flexWrap:"wrap"},productButton:{alignItems:"center",justifyContent:"center",borderRadius:10,marginRight:4,marginBottom:4,padding:8},productButtonText:{color:"white"},productButtonImg:{width:48,height:48},tabText:{fontSize:24},tabSlider:{padding:8},stats:{display:"flex",flexDirection:"row",padding:8,alignItems:"center"},lastUpdate:{flex:1,paddingHorizontal:16,width:"50%",textAlign:"right",color:"gray",fontSize:12},capacity:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"baseline",flex:1,textTransform:"uppercase",width:"50%",textAlign:"center",fontSize:40},capacityValue:{fontSize:40,marginRight:8},capacityLabel:{fontSize:12}}),we=(n(640),.5*Math.round(C.a.get("window").width));function Oe(e){var t=e.navigation,n=Object(c.useState)([]),r=i()(n,2),o=r[0],a=r[1],l=Object(c.useState)(!1),u=i()(l,2),d=u[0],p=u[1],m=Object(c.useState)([]),C=i()(m,2),O=C[0],S=C[1],E=Object(c.useState)(),j=i()(E,2),x=j[0],P=j[1],I=Object(c.useState)(null),R=i()(I,2),k=(R[0],R[1]),T=Object(c.useState)([]),B=i()(T,2),D=B[0],A=B[1],M=Object(c.useState)(null),F=i()(M,2),z=F[0],L=F[1],V=le(),N=V.user,U=V.logout,W=Object(c.useRef)(null),G=Boolean(N&&N.email),J=G;function Y(e){return e.products.some((function(e){return e.id===z.id}))?"green":"red"}return Object(c.useEffect)((function(){p(!0),oe().then((function(e){var t=e.map((function(e){return{value:e,name:e}}));a(t),p(!1)})).catch((function(e){console.error(e),p(!1)}))}),[]),Object(c.useEffect)((function(){x&&(p(!0),ae({areas:x}).then((function(e){S(e),p(!1)})).catch((function(e){console.error(e),p(!1)})))}),[x]),Object(c.useEffect)((function(){p(!0),re().then((function(e){A(e),L(e[0]),p(!1)}))}),[]),s.a.createElement(h.a,{style:Se.container},s.a.createElement(q,{ref:W,style:[Se.map,{height:J?"80%":"100%"}],provider:"google",showsUserLocation:!0,showsMyLocationButton:!0,showsCompass:!0,onMapReady:function(){var e,t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(w.c());case 2:return e=n.sent,"granted"!==e.status&&console.warn("Permission to access location was denied"),n.next=7,f.a.awrap(w.b({accuracy:w.a.BestForNavigation}));case 7:t=n.sent,k(t.coords),W.current.animateToRegion({latitude:t.coords.latitude,latitudeDelta:.026006060443698686,longitude:t.coords.longitude,longitudeDelta:.017766952514648438});case 10:case"end":return n.stop()}}),null,null,null,Promise)}},O.map((function(e){return s.a.createElement(H,{key:e.id,tracksViewChanges:!1,coordinate:{latitude:parseFloat(e.geometryLat),longitude:parseFloat(e.geometryLng)},title:e.name,description:e.address,pinColor:Y(e)})}))),s.a.createElement($,{select:!0,onItemSelect:function(e){return P(e.value)},containerStyle:Se.provincesSelector,itemStyle:Se.dropdownItem,itemsContainerStyle:Se.itemsContainer,items:o,textInputProps:{placeholder:"Selecciona tu ciudad",style:Se.formInput},listProps:{nestedScrollEnabled:!0}}),G?s.a.createElement(g.a,{style:Se.loginButton,onPress:U},s.a.createElement(y.a,null,"Cerrar sesi\xf3n")):s.a.createElement(g.a,{style:Se.loginButton,onPress:function(){return t.navigate("Login")}},s.a.createElement(y.a,null,"Entrar")),J&&s.a.createElement(ve,{style:Se.bottomBar}),s.a.createElement(g.a,{style:[Se.productsButton,{bottom:J?"30%":Se.productsButton.bottom}],onPress:function(){var e=D.findIndex((function(e){return e.id===z.id}));e===D.length-1?L(D[0]):L(D[e+1])}},z&&s.a.createElement(v.a,{source:be[z.photo],style:Se.productsButtonImage})),d&&s.a.createElement(h.a,{style:Se.loadingContainer},s.a.createElement(b.a,null)))}var Se=m.a.create({container:{display:"flex",height:"100%",width:"100%",flexDirection:"column",backgroundColor:"#F5F5F5",alignItems:"center",justifyContent:"center"},map:{width:"100%",height:"100%"},loginButton:{position:"absolute",backgroundColor:"white",borderRadius:5,alignContent:"center",justifyContent:"center",paddingVertical:8,paddingHorizontal:16,right:24,top:24,height:36},provincesSelector:{position:"absolute",left:22,top:24,width:200,maxWidth:250,maxHeight:400,backgroundColor:"white",borderRadius:10,alignContent:"center",justifyContent:"center",overflow:"hidden"},dropdownItem:{padding:10,marginTop:2,backgroundColor:"white",borderBottomWidth:1,borderBottomColor:"transparent"},itemsContainer:{maxHeight:140,borderRadius:10},formInput:{width:"100%",backgroundColor:"white",borderRadius:10,paddingVertical:8,paddingHorizontal:16},bottomBar:{height:"20%",maxHeight:"20%",overflow:"hidden",width:"100%"},loadingContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"white",opacity:.5},productsButton:{position:"absolute",bottom:20,right:"3%",backgroundColor:"rgb(0, 150, 135)",display:"flex",justifyContent:"center",alignContent:"center",borderRadius:50,padding:4},productsButtonImage:{width:48,height:48},callout:{padding:4,display:"flex",justifyContent:"center",maxWidth:we},imageArea:{display:"flex",flexDirection:"row",resizeMode:"cover",justifyContent:"center",padding:4},logoArea:{borderRadius:50,padding:4,marginRight:4},textAreaStyle:{padding:4,marginBottom:6},productsImageCallout:{width:32,height:32}}),Ee=n(48),je="user";function xe(e){var t=e.navigation,n=Object(c.useState)(""),r=i()(n,2),o=r[0],a=r[1],u=Object(c.useState)(""),d=i()(u,2),p=d[0],m=d[1],b=le().setUser;return s.a.createElement(h.a,{style:Pe.container},s.a.createElement(y.a,{style:Pe.formTitle},"Acceso a personal de farmacia"),s.a.createElement(Ee.a,{style:Pe.formInput,placeholder:"Email",autoCompleteType:"email",keyboardType:"email-address",textContentType:"emailAddress",onChangeText:function(e){return a(e)},defaultValue:o,autoCapitalize:"none"}),s.a.createElement(Ee.a,{style:Pe.formInput,placeholder:"Contrase\xf1a",autoCompleteType:"password",textContentType:"password",secureTextEntry:!0,onChangeText:function(e){return m(e)},defaultValue:p,autoCapitalize:"none"}),s.a.createElement(y.a,{style:Pe.formLink,onPress:function(){return t.navigate("Registro")}},"Tengo una farmacia y no tengo cuenta, \xbfC\xf3mo me registro?"),s.a.createElement(g.a,{style:Pe.loginButton,onPress:function(){(function(e,t){var n,r;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n={email:e,password:t},r={method:"POST",headers:ie(),body:JSON.stringify(n)},o.abrupt("return",fetch(ne.LOGIN,r).then((function(e){return e.json()})));case 3:case"end":return o.stop()}}),null,null,null,Promise)})(o,p).then((function(e){return l.a.setItem(je,JSON.stringify(e)).then((function(){return e}))})).then((function(e){if(!e||!e.token)throw new Error("The token is missing in the user information "+JSON.stringify(e));ue.a.alert("Hola de nuevo, "+e.name," Nunca podremos agradecer suficiente lo que est\xe1s haciendo durante esta crisis por nosotros. \n\n \xa1Venceremos al virus!"),b(e),t.navigate("Inicio")})).catch((function(e){console.warn(e),ue.a.alert("Fallo al iniciar sesi\xf3n","Los credenciales son err\xf3neos o el usuario est\xe1 pendiente de validaci\xf3n")}))}},s.a.createElement(y.a,null,"Login")))}var Pe=m.a.create({container:{position:"relative",display:"flex",alignSelf:"center",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#F5F5F5",paddingHorizontal:48},formTitle:{fontSize:24,marginBottom:32},formInput:{width:"100%",height:48,marginBottom:16,backgroundColor:"white",borderRadius:10,paddingVertical:8,paddingHorizontal:16},formLink:{textDecorationLine:"underline",marginBottom:16},loginButton:{backgroundColor:"white",borderRadius:10,borderColor:"#F5F5F5",borderWidth:1,alignContent:"center",justifyContent:"center",paddingVertical:8,paddingHorizontal:16}});function Ie(e){var t=e.navigation,n=Object(c.useState)([]),r=i()(n,2),o=r[0],a=r[1],l=Object(c.useState)([]),u=i()(l,2),d=u[0],p=u[1],m=Object(c.useState)(!1),b=i()(m,2),v=b[0],C=b[1],w=Object(c.useState)(null),O=i()(w,2),S=O[0],E=O[1],j=Object(c.useState)(null),x=i()(j,2),P=x[0],I=x[1],R=Object(c.useState)(""),k=i()(R,2),T=k[0],B=k[1],D=Object(c.useState)(""),A=i()(D,2),M=A[0],F=A[1],z=Object(c.useState)(""),H=i()(z,2),L=H[0],V=H[1],N=Object(c.useState)(""),U=i()(N,2),W=U[0],G=U[1];return Object(c.useEffect)((function(){C(!0),oe().then((function(e){var t=e.map((function(e){return{value:e,name:e}}));a(t),C(!1)})).catch((function(e){C(!1)}))}),[]),Object(c.useEffect)((function(){S&&(C(!0),ae({areas:S}).then((function(e){var t=e.map((function(e){return{value:e.id,name:e.name}}));p(t),C(!1)})).catch((function(e){C(!1)})))}),[S]),s.a.createElement(h.a,{style:Re.container},s.a.createElement(y.a,{style:Re.formTitle},"Pedir acceso como personal de farmacia"),s.a.createElement(y.a,{style:Re.formSubtitle},"Por el momento, solo personal del un usuario por farmacia podr\xe1 informar del inventario de productos."),s.a.createElement($,{select:!0,onItemSelect:function(e){E(e.value)},containerStyle:Re.searchInput,itemStyle:Re.dropdownItem,itemsContainerStyle:Re.itemsContainer,items:o,textInputProps:{placeholder:v?"Cargando...":"Selecciona una ciudad",style:Re.formInput},listProps:{nestedScrollEnabled:!0}}),s.a.createElement($,{select:!0,disabled:!S,onItemSelect:function(e){I(e.value)},containerStyle:Re.searchInput,itemStyle:Re.dropdownItem,itemsContainerStyle:Re.itemsContainer,items:d,textInputProps:{placeholder:v?"Cargando...":"Selecciona tu farmacia",style:Re.formInput},listProps:{nestedScrollEnabled:!0}}),s.a.createElement(Ee.a,{style:Re.formInput,placeholder:"C\xf3digo Auton\xf3mico Ej: F08006281",onChangeText:G,defaultValue:W}),s.a.createElement(Ee.a,{style:Re.formInput,placeholder:"Nombre y Apellidos",autoCompleteType:"name",onChangeText:B,defaultValue:T}),s.a.createElement(Ee.a,{style:Re.formInput,placeholder:"Email",autoCompleteType:"email",keyboardType:"email-address",textContentType:"emailAddress",onChangeText:F,defaultValue:M,autoCapitalize:"none"}),s.a.createElement(Ee.a,{style:Re.formInput,placeholder:"Contrase\xf1a",autoCompleteType:"password",textContentType:"password",secureTextEntry:!0,onChangeText:V,defaultValue:L,autoCapitalize:"none"}),s.a.createElement(g.a,{style:Re.loginButton,onPress:function(){(function(){if(P)if(W)if(T)if(M){if(L)return!0;ue.a.alert("Los datos no son v\xe1lidos","Por favor, introduce una contrase\xf1a")}else ue.a.alert("Los datos no son v\xe1lidos","Por favor, introduce un email");else ue.a.alert("Los datos no son validos","Por favor, introduce tu nombre y tus apellidos");else ue.a.alert("Los datos no son v\xe1lidos","Por favor, introduce el c\xf3digo auton\xf3mico de la farmacia");else ue.a.alert("Los datos no son v\xe1lidos","Por favor, selecciona tu farmacia")})()&&function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={name:e.name,email:e.email,password:e.password,centerCode:e.centerCode,pharmacyId:e.pharmacyId},n.abrupt("return",fetch(ne.USER_PHARMACY,{method:"POST",headers:ie(),body:JSON.stringify(t)}).then(ce));case 2:case"end":return n.stop()}}),null,null,null,Promise)}({name:T,email:M,password:L,centerCode:W,pharmacyId:P}).then((function(e){ue.a.alert("Enviado correctamente","Gracias "+e.name+". Ya puedes iniciar sesi\xf3n y actualizar el inventario de tu farmacia.",[{text:"Aceptar",onPress:function(){t.navigate("Login")}}],{cancelable:!1})})).catch((function(e){ue.a.alert("Ha ocurrido un error",String(e))}))}},s.a.createElement(y.a,null,"Pedir acceso")))}var Re=m.a.create({container:{position:"relative",display:"flex",flex:1,justifyContent:"center",alignItems:"center",alignSelf:"center",padding:48,maxWidth:600},formTitle:{fontSize:24,marginBottom:24},formSubtitle:{marginBottom:16},formInput:{height:48,width:"100%",marginBottom:16,backgroundColor:"white",borderRadius:10,paddingVertical:8,paddingHorizontal:16},searchInput:{width:"100%"},dropdownItem:{padding:10,marginTop:2,backgroundColor:"white",borderBottomWidth:1,borderBottomColor:"transparent"},itemsContainer:{maxHeight:140,marginTop:-14,marginBottom:8,borderRadius:10},formLink:{textDecorationLine:"underline"},loginButton:{backgroundColor:"white",borderRadius:10,borderColor:"#F5F5F5",borderWidth:1,alignContent:"center",justifyContent:"center",paddingVertical:8,paddingHorizontal:16}}),ke=n(639);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"a",(function(){return De}));var Be=Object(ke.a)();function De(){var e=Object(c.useState)({email:"",name:"",hospitalId:0}),t=i()(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){l.a.getItem(je).then((function(e){var t=e&&JSON.parse(e);r(t)}))}),[]);var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u.a,{colors:{primary:"rgb(255, 45, 85)",background:"#F5F5F5",card:"rgb(255, 255, 255)",text:"rgb(28, 28, 30)",border:"transparent"}});return s.a.createElement(se.Provider,{value:{user:n,setUser:r,logout:function(){l.a.removeItem(je).then((function(){return r({email:"",name:"",hospitalId:0})}))}}},s.a.createElement(d.a,{theme:a},s.a.createElement(Be.Navigator,null,s.a.createElement(Be.Screen,{name:"Inicio",component:Oe}),s.a.createElement(Be.Screen,{name:"Login",component:xe}),s.a.createElement(Be.Screen,{name:"Registro",component:Ie}))))}},356:function(e,t,n){n(357),e.exports=n(625)},357:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[356,1,2]]]);
//# sourceMappingURL=app.ed4eb8f5.chunk.js.map